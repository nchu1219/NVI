<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>UnoExon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      /* Theme A – Midnight Oracle */
      --deep-space: #02080C;
      --midnight-teal: #003F4F;   /* Deep Tech */
      --goldfire: #F7A94A;        /* Sunset Goldfire */
      --sand: #D9C6A3;            /* Warm Sandstone */
      --jade: #8BC6A0;            /* Soft Jadewood */

      --text-main: var(--sand);
      --text-dim: rgba(217, 198, 163, 0.78);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background:
        radial-gradient(circle at 10% 0%, rgba(247, 169, 74, 0.18), transparent 55%),
        radial-gradient(circle at 80% 8%, rgba(139, 198, 160, 0.12), transparent 60%),
        radial-gradient(circle at 50% 85%, rgba(0, 63, 79, 0.85), transparent 70%),
        radial-gradient(circle at 50% 50%, #00151C, #02080C);
      color: var(--text-main);
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Inter",
        system-ui, sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* 背景層：霧狀層 + 星點 */
    .sky {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 12% 18%, rgba(247, 169, 74, 0.24), transparent 60%),
        radial-gradient(circle at 80% 12%, rgba(139, 198, 160, 0.16), transparent 65%),
        radial-gradient(circle at 50% 95%, rgba(0, 21, 28, 0.9), transparent 70%);
      pointer-events: none;
      z-index: -3;
      animation: skyHueBreath 22s ease-in-out infinite alternate;
      will-change: transform, filter;
      transition: transform 0.25s ease-out;
    }

    .stars {
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(217, 198, 163, 0.85), transparent),
        radial-gradient(1px 1px at 30% 80%, rgba(247, 169, 74, 0.75), transparent),
        radial-gradient(1px 1px at 70% 30%, rgba(217, 198, 163, 0.8), transparent),
        radial-gradient(1px 1px at 90% 60%, rgba(247, 169, 74, 0.8), transparent);
      opacity: 0.78;
      animation: drift 40s linear infinite;
      z-index: -2;
    }

    @keyframes drift {
      0% { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(-40px, -60px, 0); }
    }

    /* 中央 Halo：固定中心，再加滑鼠偏移 */
    .halo {
      position: fixed;
      width: 520px;
      height: 520px;
      left: 50%;
      top: 42%;
      transform: translate(-50%, -50%);
      background:
        radial-gradient(circle, rgba(247, 169, 74, 0.26), transparent 60%),
        radial-gradient(circle, rgba(139, 198, 160, 0.18), transparent 70%);
      filter: blur(14px);
      opacity: 0.85;
      pointer-events: none;
      z-index: -1;
      animation: haloHueBreath 18s ease-in-out infinite alternate;
      will-change: transform, filter;
      transition: transform 0.25s ease-out;
    }

    @keyframes skyHueBreath {
      0%   { filter: hue-rotate(0deg)  brightness(1.0); }
      50%  { filter: hue-rotate(6deg)  brightness(1.04); }
      100% { filter: hue-rotate(-4deg) brightness(0.97); }
    }

    @keyframes haloHueBreath {
      0%   { filter: blur(14px) hue-rotate(0deg)  brightness(1.0); }
      50%  { filter: blur(16px) hue-rotate(5deg)  brightness(1.06); }
      100% { filter: blur(13px) hue-rotate(-3deg) brightness(0.96); }
    }

    .page {
      max-width: 1040px;
      margin: 0 auto;
      padding: 32px 20px 160px;
      position: relative;
      z-index: 1;
    }

    .content {
      max-width: 820px;
      margin-left: 0;
    }

    /* 第一屏 */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-top: 40px;
      padding-bottom: 60px;
    }

    .brand {
      position: absolute;
      top: 32px;
      left: 20px;
      font-size: 0.9rem;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      opacity: 0.9;
      color: var(--sand);
    }

    .hero-tag {
      font-size: 0.78rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-dim);
      margin-bottom: 28px;
    }

    .hero-title {
      font-size: 5rem;
      font-weight: 700;
      line-height: 1.08;
      margin-bottom: 52px;
      color: var(--sand);
    }

    .hero-lines {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .hero-lines div {
      font-size: 2.3rem;
      color: var(--text-dim);
      font-weight: 300;
      line-height: 1.3;
    }

    /* 第二、三屏共用 */
    .section {
      margin-top: 200px;
    }

    .section-title {
      font-size: 0.9rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(217, 198, 163, 0.72);
      margin-bottom: 30px;
    }

    .pair {
      margin-bottom: 12px;
    }

    .item {
      font-size: 1.8rem;
      line-height: 1.5;
      margin: 40px 0 12px 0;
      opacity: 0;
      transform: translateY(32px);
      filter: blur(4px);
      transition:
        opacity 0.9s ease-out,
        transform 0.9s ease-out,
        filter 0.9s ease-out;
      color: var(--sand);
    }

    .item-sub {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--text-dim);
      margin: 0 0 40px 0;
      opacity: 0;
      transform: translateY(32px);
      filter: blur(4px);
      transition:
        opacity 0.9s ease-out,
        transform 0.9s ease-out,
        filter 0.9s ease-out;
    }

    .reveal.active {
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }

    /* Firefly 容器 */
    #fireflies {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      transition: transform 0.25s ease-out;
    }

    .firefly {
      position: fixed;
      width: 3.2px;
      height: 3.2px;
      border-radius: 50%;
      background: var(--ff-color, rgba(247, 169, 74, 1));
      box-shadow: 0 0 18px var(--ff-color, rgba(247, 169, 74, 1));
      pointer-events: none;
      opacity: 0;
      animation:
        ff-float linear infinite,
        ff-fade ease-in-out infinite alternate;
      filter: blur(0.5px);
    }

    @keyframes ff-float {
      0% { transform: translate3d(0, 0, 0); }
      100% { transform: translate3d(var(--tx), var(--ty), 0); }
    }

    @keyframes ff-fade {
      0%   { opacity: 0.28; }
      50%  { opacity: 0.9; }
      100% { opacity: 0.4; }
    }

    /* 手機優化 */
    @media (max-width: 768px) {
      .brand {
        font-size: 0.8rem;
        left: 16px;
      }

      .page {
        padding: 24px 16px 120px;
      }

      .content {
        margin-left: 8px;
        margin-right: 8px;
      }

      .hero {
        padding-top: 24px;
        padding-bottom: 40px;
      }

      .hero-title {
        font-size: 3.2rem;
        margin-bottom: 36px;
      }

      .hero-lines {
        gap: 12px;
      }

      .hero-lines div {
        font-size: 1.6rem;
        line-height: 1.35;
      }

      .section {
        margin-top: 140px;
      }

      .item {
        font-size: 1.5rem;
        margin: 32px 0 10px 0;
      }

      .item-sub {
        font-size: 0.95rem;
        margin: 0 0 32px 0;
      }

      .firefly {
        opacity: 0.4;
      }
    }
  </style>
</head>

<body>
  <div class="sky"></div>
  <div class="stars"></div>
  <div class="halo"></div>
  <div id="fireflies"></div>

  <div class="page">
    <!-- 第一屏 -->
    <section class="hero">
      <div class="brand">UNOEXON</div>

      <div class="content">
        <div class="hero-tag">GENETIC INSTALLATION LAYER</div>

        <h1 class="hero-title">Genetic function, installed</h1>

        <div class="hero-lines">
          <div>Natural expression</div>
          <div>Silent unless correct</div>
          <div>Built to last</div>
        </div>
      </div>
    </section>

    <!-- 第二屏：THE LAYER -->
    <section class="section">
      <div class="content">
        <div class="section-title">THE LAYER</div>

        <div class="pair">
          <div class="item reveal">Beyond delivery</div>
          <div class="item-sub reveal">
            Delivery moves genetic cargo into cells. We define what it becomes.
          </div>
        </div>

        <div class="pair">
          <div class="item reveal">Beyond editing</div>
          <div class="item-sub reveal">
            Editing opens access. Installation determines how function is established.
          </div>
        </div>

        <div class="pair">
          <div class="item reveal">Beyond biology itself</div>
          <div class="item-sub reveal">
            A layer that changes what genes are allowed to do.
          </div>
        </div>
      </div>
    </section>

    <!-- 第三屏：THE APPLICATIONS -->
    <section class="section">
      <div class="content">
        <div class="section-title">THE APPLICATIONS</div>

        <div class="pair">
          <div class="item reveal">Genetic Medicines</div>
          <div class="item-sub reveal">
            Where durable, well-behaved gene function is essential.
          </div>
        </div>

        <div class="pair">
          <div class="item reveal">Engineered Cells</div>
          <div class="item-sub reveal">
            Cells whose behavior is defined at installation.
          </div>
        </div>

        <div class="pair">
          <div class="item reveal">Cross-Modality Programs</div>
          <div class="item-sub reveal">
            Built to plug into any modern non-viral stack.
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // 群組 reveal：先大字再小字
    (function () {
      const pairs = document.querySelectorAll(".pair");
      const isMobile = window.innerWidth <= 768;
      const withinDelay = isMobile ? 140 : 200;

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            const pair = entry.target;
            if (pair.dataset.activated === "1") return;
            pair.dataset.activated = "1";

            const lines = pair.querySelectorAll(".reveal");
            lines.forEach((el, index) => {
              setTimeout(() => {
                el.classList.add("active");
              }, index * withinDelay);
            });
          });
        },
        {
          root: null,
          threshold: 0.45,
          rootMargin: "0px 0px -10% 0px",
        }
      );

      pairs.forEach((p) => observer.observe(p));
    })();

    // Firefly：3 色有階級 + 更亮 & 更多
    (function () {
      const isMobile = window.innerWidth <= 768;
      const count = isMobile ? 12 : 26;
      const container = document.getElementById("fireflies");
      if (!container) return;

      const colors = [
        "#F7A94A", // Goldfire - 主
        "#D9C6A3", // Sandstone - 次
        "#8BC6A0"  // Jade - 少量
      ];

      for (let i = 0; i < count; i++) {
        const f = document.createElement("div");
        f.classList.add("firefly");

        const x = Math.random() * 100;
        const y = Math.random() * 100;

        const tx = Math.random() * 80 - 40;
        const ty = Math.random() * 120 - 60;

        const floatTime = 18 + Math.random() * 14;
        const fadeTime = 6 + Math.random() * 5;

        const r = Math.random();
        let color;
        if (r < 0.55)      color = colors[0];
        else if (r < 0.9)  color = colors[1];
        else               color = colors[2];

        f.style.left = x + "vw";
        f.style.top = y + "vh";
        f.style.setProperty("--tx", tx + "px");
        f.style.setProperty("--ty", ty + "px");
        f.style.animationDuration = floatTime + "s, " + fadeTime + "s";
        f.style.setProperty("--ff-color", color);

        container.appendChild(f);
      }
    })();

    // Crosshair depth tracking：背景 + halo + fireflies
    (function () {
      const sky = document.querySelector(".sky");
      const halo = document.querySelector(".halo");
      const fireflies = document.getElementById("fireflies");

      if (!sky || !halo || !fireflies) return;
      const isMobile = window.innerWidth <= 768;
      if (isMobile) return;

      function handleMove(e) {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const x = e.clientX ?? w / 2;
        const y = e.clientY ?? h / 2;

        const xr = (x / w) - 0.5; // -0.5 ~ 0.5
        const yr = (y / h) - 0.5;

        const fx = -xr;
        const fy = -yr;

        // 背景輕微移動
        sky.style.transform = `translate3d(${fx * 10}px, ${fy * 10}px, 0)`;

        // Halo：以中心為基準，再小幅跟著鼠標
        halo.style.transform =
          `translate(-50%, -50%) translate3d(${fx * 32}px, ${fy * 32}px, 0)`;

        // Fireflies：中階 parallax
        fireflies.style.transform =
          `translate3d(${fx * 18}px, ${fy * 18}px, 0)`;
      }

      window.addEventListener("mousemove", handleMove);
    })();
  </script>
</body>
</html>
